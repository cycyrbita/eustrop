window.addEventListener("load", function () {
    var language = {
        "RU": [{
            "lt1": "qxyz",
            "lt2": "QR-code",
            "lt3": "QR-Генератор",
            "lt4": "Диапазоны",
            "lt5": "Карта",
            "lt6": "Help!",
            "lt7": "Участники",
            "lt8": "Участники",
            "lt9": "QR-Генератор",
            "lt10": "Диапазоны",
            "lt11": "Карта",
            "lt12": "lorem",
            "lt13": "QR-Генератор",
            "lt14": "Диапазоны",
            "lt15": "Карта",
            "lt16": "Help!",
            "lt17": "Help!",
            "lt18": "Участники",
            "lt19": "Участники",
            "lt20": "QR-Генератор",
            "lt21": "Диапазоны",
            "lt22": "Карта",
            "lt23": "Help!",
            "lt24": "QR-Генератор",
            "lt25": "Диапазоны",
            "lt26": "Карта",
            "lt27": "Help!",
            "lt28": "Регистрация",
            "lt29": "RU",
            "lt30": "EN",
            "lt31": "ES",
            "lt32": "Характеристики",
            "lt33": "Обслуживание",
            "lt34": "Открыть форму регистрации",
            "lt35": "Главная страница qxyz",
            "lt36": "Вход",
            "lt37": "Квадратики",
            "lt38": "qrcode",
            "lt39": "Регистрация",
            "lt40": "Введите ваше имя",
            "lt41": "Введите корректное имя...",
            "lt42": "Введите вашу почту",
            "lt43": "Такой почты не существует...",
            "lt44": "Форма участия",
            "lt45": "Очно",
            "lt46": "Очно, прочитаю доклад",
            "lt47": "Дистанционно (трансляцию)",
            "lt48": "Дистанционно и очно",
            "lt49": " Посмотрю запись после",
            "lt50": "Выберите форму участия...",
            "lt51": "Напишите нам",
            "lt52": "Выберите форму участия...",
            "lt53": "Я согласен с условиями обработки персональных данных",
            "lt54": "Выберите форму участия...",
            "lt55": "Зарегистрироваться",
            "lt56": "Войти",
            "lt57": "Copyright ©"
        }],
        "EN": [{
            "lt1": "qxyz",
            "lt2": "QR-code",
            "lt3": "QR-Генератор",
            "lt4": "22222222",
            "lt5": "2222222",
            "lt6": "Help!",
            "lt7": "Участники",
            "lt8": "Участники",
            "lt9": "QR-Генератор",
            "lt10": "23423423222",
            "lt11": "Карта",
            "lt12": "lorem",
            "lt13": "DFGDFGDFGDFG",
            "lt14": "Диапазоны",
            "lt15": "FGDFGDF",
            "lt16": "Help!",
            "lt17": "He34534534534lp!",
            "lt18": "Участники",
            "lt19": "2222222",
            "lt20": "QR-Генератор",
            "lt21": "Диапазоны",
            "lt22": "К2332r4we2323арта",
            "lt23": "Help!",
            "lt24": "DFGDFGDFG",
            "lt25": "Диапазоны",
            "lt26": "Карта",
            "lt27": "Help!",
            "lt28": "Регистрация",
            "lt29": "RU",
            "lt30": "EN",
            "lt31": "ES",
            "lt32": "Характеристики",
            "lt33": "DFGFDHJHYUJ",
            "lt34": "JHFGHFGHFGH",
            "lt35": "FGHFHRT",
            "lt36": "FGHFGHFGH",
            "lt37": "Квадратики",
            "lt38": "qrcode",
            "lt39": "Регистрация",
            "lt40": "SDFDFGDFSSR",
            "lt41": "DFGDFGDFG.",
            "lt42": "DFHFGFD",
            "lt43": "Такой почты не существует...",
            "lt44": "Форма участия",
            "lt45": "Очно",
            "lt46": "Очно, прочитаю доклад",
            "lt47": "Дистанционно (трансляцию)",
            "lt48": "Дистанционно и очно",
            "lt49": "HFGHRTHR",
            "lt50": "DFGFHGJH",
            "lt51": "Напишите нам",
            "lt52": "EEEEEEE",
            "lt53": "TYYUUTYUTY",
            "lt54": "DFGDFGDFG.",
            "lt55": "CVXCVDFGED",
            "lt56": "Войти",
            "lt57": "Copyright ©"
        }],
        "ES": [{
            "lt1": "qxyz",
            "lt2": "dfgdfgcvb",
            "lt3": "dfgfdger",
            "lt4": "uiyyhjkhjk",
            "lt5": "hmbnmbn",
            "lt6": "ghngbtrt!",
            "lt7": "kj,jyhk,ghj",
            "lt8": "vbnvb",
            "lt9": "hrtyukuti",
            "lt10": "edffdbcv",
            "lt11": ";;ikkkk",
            "lt12": "lorem",
            "lt13": "QR-Генератор",
            "lt14": "ui,k,j,",
            "lt15": "sdfsdf",
            "lt16": "sxcxcvs!",
            "lt17": "mbmmghjg!",
            "lt18": "Учаrfgfdghстники",
            "lt19": "zfbvfxbnfgn",
            "lt20": "QR-Генератор",
            "lt21": "vbcvccccc",
            "lt22": "cccvbcvb",
            "lt23": "Help!",
            "lt24": "fgnvgntg",
            "lt25": "tyjyhjkhj",
            "lt26": "hjkghn",
            "lt27": "Help!",
            "lt28": "oioyiioyiy",
            "lt29": "RU",
            "lt30": "EN",
            "lt31": "ES",
            "lt32": "EFGFGHTYFGJGJ",
            "lt33": "SDFGDFHJH",
            "lt34": "Открыть форму регистрации",
            "lt35": "DFGDFGRTRFGH",
            "lt36": "Вход",
            "lt37": "DFGFDHDTHDR",
            "lt38": "qrcode",
            "lt39": "Регистрация",
            "lt40": "Введите ваше имя",
            "lt41": "Введите корректное имя...",
            "lt42": "Введите вашу почту",
            "lt43": "Такой почты не существует...",
            "lt44": "Форма участия",
            "lt45": "Очно",
            "lt46": "Очно, прочитаю доклад",
            "lt47": "Дистанционно (трансляцию)",
            "lt48": "Дистанционно и очно",
            "lt49": " Посмотрю запись после",
            "lt50": "Выберите форму участия...",
            "lt51": "Напишите нам",
            "lt52": "Выберите форму участия...",
            "lt53": "Я согласен с условиями обработки персональных данных",
            "lt54": "Выберите форму участия...",
            "lt55": "Зарегистрироваться",
            "lt56": "Войти",
            "lt57": "Copyright ©"
        }]
    }

    lang("*", 'lt', false, 'language', language);

    function lang(tagName, idName, log, ideventsClick, objectLanguage) {
        // складываем весь текст на странице в объект
        var tagName = document.body.getElementsByTagName(tagName);

        // если класс не указан
        if(!idName) {
            idName = 'lt';
        }

        // тут будет лежать весь текст который найдем
        var pageContent = {};

        // префикс для класса
        var count = 0;

        var lengthClass = [];

        for (var i = 0; i < tagName.length; i++) {
            // исключаем теги
            if (tagName[i].tagName != 'SCRIPT' && tagName[i].tagName != 'STYLE') {
                // проверяем есть ли текст
                if (tagName[i].innerHTML) {
                    // узнаем есть ли текст внутри элемента(все дочерние теги отсеиваем)
                    for (var k = 0; k < tagName[i].childNodes.length; k++) {
                        // узнаем что содержится внутри тега(текст или тег)
                        if (tagName[i].childNodes[k].nodeType === 3 && tagName[i].childNodes[k].nodeValue != 0) {
                            // переписываем префикс
                            count++;

                            // добавляем класс тегам
                            tagName[i].id = idName + count;

                            // количество классов на странице
                            lengthClass.push(idName + count);

                            // заполняем объект контентом
                            pageContent[idName + count] = tagName[i].childNodes[k].nodeValue;
                        }
                    }
                }
            }
        }

        // выводим содержимое в консоль
        if (log) {
            console.log(pageContent);
        }

        document.getElementById(ideventsClick).addEventListener('change', function() {
            for(var i = 0; i < lengthClass.length; i++) {
                document.getElementById(lengthClass[i]).innerHTML = objectLanguage[this.value][0][lengthClass[i]];
            }
        })
    }
});